{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":39,"index":188}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await _utilsApi.authAPI.login({\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const signup = async data => {\n      try {\n        const response = await _utilsApi.authAPI.signup(data);\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Signup failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      try {\n        const response = await _utilsApi.authAPI.getMe();\n        const userData = response.data;\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        console.error('Error refreshing user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        signup,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":127,"map":[[13,2,28,0,"Object"],[13,8,28,0],[13,9,28,0,"defineProperty"],[13,23,28,0],[13,24,28,0,"exports"],[13,31,28,0],[14,4,28,0,"enumerable"],[14,14,28,0],[15,4,28,0,"get"],[15,7,28,0],[15,18,28,0,"get"],[15,19,28,0],[16,6,28,0],[16,13,28,0,"AuthProvider"],[16,25,28,0],[17,4,28,0],[18,2,28,0],[19,2,108,0,"Object"],[19,8,108,0],[19,9,108,0,"defineProperty"],[19,23,108,0],[19,24,108,0,"exports"],[19,31,108,0],[20,4,108,0,"enumerable"],[20,14,108,0],[21,4,108,0,"get"],[21,7,108,0],[21,18,108,0,"get"],[21,19,108,0],[22,6,108,0],[22,13,108,0,"useAuth"],[22,20,108,0],[23,4,108,0],[24,2,108,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_utilsApi"],[28,15,3,0],[28,18,3,0,"require"],[28,25,3,0],[28,26,3,0,"_dependencyMap"],[28,40,3,0],[29,2,3,39],[29,6,3,39,"_reactJsxDevRuntime"],[29,25,3,39],[29,28,3,39,"require"],[29,35,3,39],[29,36,3,39,"_dependencyMap"],[29,50,3,39],[30,2,26,0],[30,8,26,6,"AuthContext"],[30,19,26,17],[30,35,26,20],[30,39,26,20,"createContext"],[30,45,26,33],[30,46,26,33,"createContext"],[30,59,26,33],[30,61,26,63,"undefined"],[30,70,26,72],[30,71,26,73],[31,2,28,7],[31,8,28,13,"AuthProvider"],[31,20,28,66],[31,23,28,69,"AuthProvider"],[31,24,28,70],[32,4,28,72,"children"],[33,2,28,81],[33,3,28,82],[33,8,28,87],[34,4,29,2],[34,10,29,8],[34,11,29,9,"user"],[34,15,29,13],[34,17,29,15,"setUser"],[34,24,29,22],[34,25,29,23],[34,28,29,26],[34,32,29,26,"useState"],[34,38,29,34],[34,39,29,34,"useState"],[34,47,29,34],[34,49,29,48],[34,53,29,52],[34,54,29,53],[35,4,30,2],[35,10,30,8],[35,11,30,9,"token"],[35,16,30,14],[35,18,30,16,"setToken"],[35,26,30,24],[35,27,30,25],[35,30,30,28],[35,34,30,28,"useState"],[35,40,30,36],[35,41,30,36,"useState"],[35,49,30,36],[35,51,30,52],[35,55,30,56],[35,56,30,57],[36,4,31,2],[36,10,31,8],[36,11,31,9,"loading"],[36,18,31,16],[36,20,31,18,"setLoading"],[36,30,31,28],[36,31,31,29],[36,34,31,32],[36,38,31,32,"useState"],[36,44,31,40],[36,45,31,40,"useState"],[36,53,31,40],[36,55,31,41],[36,59,31,45],[36,60,31,46],[37,4,33,2],[37,8,33,2,"useEffect"],[37,14,33,11],[37,15,33,11,"useEffect"],[37,24,33,11],[37,26,33,12],[37,32,33,18],[38,6,34,4,"loadStoredAuth"],[38,20,34,18],[38,21,34,19],[38,22,34,20],[39,4,35,2],[39,5,35,3],[39,7,35,5],[39,9,35,7],[39,10,35,8],[40,4,37,2],[40,10,37,8,"loadStoredAuth"],[40,24,37,22],[40,27,37,25],[40,33,37,25,"loadStoredAuth"],[40,34,37,25],[40,39,37,37],[41,6,38,4],[41,10,38,8],[42,8,39,6],[42,14,39,12,"storedToken"],[42,25,39,23],[42,28,39,26],[42,34,39,32,"AsyncStorage"],[42,46,39,44],[42,47,39,44,"default"],[42,54,39,44],[42,55,39,45,"getItem"],[42,62,39,52],[42,63,39,53],[42,75,39,65],[42,76,39,66],[43,8,40,6],[43,14,40,12,"storedUser"],[43,24,40,22],[43,27,40,25],[43,33,40,31,"AsyncStorage"],[43,45,40,43],[43,46,40,43,"default"],[43,53,40,43],[43,54,40,44,"getItem"],[43,61,40,51],[43,62,40,52],[43,68,40,58],[43,69,40,59],[44,8,42,6],[44,12,42,10,"storedToken"],[44,23,42,21],[44,27,42,25,"storedUser"],[44,37,42,35],[44,39,42,37],[45,10,43,8,"setToken"],[45,18,43,16],[45,19,43,17,"storedToken"],[45,30,43,28],[45,31,43,29],[46,10,44,8,"setUser"],[46,17,44,15],[46,18,44,16,"JSON"],[46,22,44,20],[46,23,44,21,"parse"],[46,28,44,26],[46,29,44,27,"storedUser"],[46,39,44,37],[46,40,44,38],[46,41,44,39],[47,8,45,6],[48,6,46,4],[48,7,46,5],[48,8,46,6],[48,15,46,13,"error"],[48,20,46,18],[48,22,46,20],[49,8,47,6,"console"],[49,15,47,13],[49,16,47,14,"error"],[49,21,47,19],[49,22,47,20],[49,43,47,41],[49,45,47,43,"error"],[49,50,47,48],[49,51,47,49],[50,6,48,4],[50,7,48,5],[50,16,48,14],[51,8,49,6,"setLoading"],[51,18,49,16],[51,19,49,17],[51,24,49,22],[51,25,49,23],[52,6,50,4],[53,4,51,2],[53,5,51,3],[54,4,53,2],[54,10,53,8,"login"],[54,15,53,13],[54,18,53,16],[54,24,53,16,"login"],[54,25,53,23,"email"],[54,30,53,36],[54,32,53,38,"password"],[54,40,53,54],[54,45,53,59],[55,6,54,4],[55,10,54,8],[56,8,55,6],[56,14,55,12,"response"],[56,22,55,20],[56,25,55,23],[56,31,55,29,"authAPI"],[56,40,55,36],[56,41,55,36,"authAPI"],[56,48,55,36],[56,49,55,37,"login"],[56,54,55,42],[56,55,55,43],[57,10,55,45,"email"],[57,15,55,50],[58,10,55,52,"password"],[59,8,55,61],[59,9,55,62],[59,10,55,63],[60,8,56,6],[60,14,56,12],[61,10,56,14,"access_token"],[61,22,56,26],[62,10,56,28,"user"],[62,14,56,32],[62,16,56,34,"userData"],[63,8,56,43],[63,9,56,44],[63,12,56,47,"response"],[63,20,56,55],[63,21,56,56,"data"],[63,25,56,60],[64,8,58,6],[64,14,58,12,"AsyncStorage"],[64,26,58,24],[64,27,58,24,"default"],[64,34,58,24],[64,35,58,25,"setItem"],[64,42,58,32],[64,43,58,33],[64,55,58,45],[64,57,58,47,"access_token"],[64,69,58,59],[64,70,58,60],[65,8,59,6],[65,14,59,12,"AsyncStorage"],[65,26,59,24],[65,27,59,24,"default"],[65,34,59,24],[65,35,59,25,"setItem"],[65,42,59,32],[65,43,59,33],[65,49,59,39],[65,51,59,41,"JSON"],[65,55,59,45],[65,56,59,46,"stringify"],[65,65,59,55],[65,66,59,56,"userData"],[65,74,59,64],[65,75,59,65],[65,76,59,66],[66,8,61,6,"setToken"],[66,16,61,14],[66,17,61,15,"access_token"],[66,29,61,27],[66,30,61,28],[67,8,62,6,"setUser"],[67,15,62,13],[67,16,62,14,"userData"],[67,24,62,22],[67,25,62,23],[68,6,63,4],[68,7,63,5],[68,8,63,6],[68,15,63,13,"error"],[68,20,63,23],[68,22,63,25],[69,8,64,6],[69,14,64,12],[69,18,64,16,"Error"],[69,23,64,21],[69,24,64,22,"error"],[69,29,64,27],[69,30,64,28,"response"],[69,38,64,36],[69,40,64,38,"data"],[69,44,64,42],[69,46,64,44,"detail"],[69,52,64,50],[69,56,64,54],[69,70,64,68],[69,71,64,69],[70,6,65,4],[71,4,66,2],[71,5,66,3],[72,4,68,2],[72,10,68,8,"signup"],[72,16,68,14],[72,19,68,17],[72,25,68,24,"data"],[72,29,68,33],[72,33,68,38],[73,6,69,4],[73,10,69,8],[74,8,70,6],[74,14,70,12,"response"],[74,22,70,20],[74,25,70,23],[74,31,70,29,"authAPI"],[74,40,70,36],[74,41,70,36,"authAPI"],[74,48,70,36],[74,49,70,37,"signup"],[74,55,70,43],[74,56,70,44,"data"],[74,60,70,48],[74,61,70,49],[75,8,71,6],[75,14,71,12],[76,10,71,14,"access_token"],[76,22,71,26],[77,10,71,28,"user"],[77,14,71,32],[77,16,71,34,"userData"],[78,8,71,43],[78,9,71,44],[78,12,71,47,"response"],[78,20,71,55],[78,21,71,56,"data"],[78,25,71,60],[79,8,73,6],[79,14,73,12,"AsyncStorage"],[79,26,73,24],[79,27,73,24,"default"],[79,34,73,24],[79,35,73,25,"setItem"],[79,42,73,32],[79,43,73,33],[79,55,73,45],[79,57,73,47,"access_token"],[79,69,73,59],[79,70,73,60],[80,8,74,6],[80,14,74,12,"AsyncStorage"],[80,26,74,24],[80,27,74,24,"default"],[80,34,74,24],[80,35,74,25,"setItem"],[80,42,74,32],[80,43,74,33],[80,49,74,39],[80,51,74,41,"JSON"],[80,55,74,45],[80,56,74,46,"stringify"],[80,65,74,55],[80,66,74,56,"userData"],[80,74,74,64],[80,75,74,65],[80,76,74,66],[81,8,76,6,"setToken"],[81,16,76,14],[81,17,76,15,"access_token"],[81,29,76,27],[81,30,76,28],[82,8,77,6,"setUser"],[82,15,77,13],[82,16,77,14,"userData"],[82,24,77,22],[82,25,77,23],[83,6,78,4],[83,7,78,5],[83,8,78,6],[83,15,78,13,"error"],[83,20,78,23],[83,22,78,25],[84,8,79,6],[84,14,79,12],[84,18,79,16,"Error"],[84,23,79,21],[84,24,79,22,"error"],[84,29,79,27],[84,30,79,28,"response"],[84,38,79,36],[84,40,79,38,"data"],[84,44,79,42],[84,46,79,44,"detail"],[84,52,79,50],[84,56,79,54],[84,71,79,69],[84,72,79,70],[85,6,80,4],[86,4,81,2],[86,5,81,3],[87,4,83,2],[87,10,83,8,"logout"],[87,16,83,14],[87,19,83,17],[87,25,83,17,"logout"],[87,26,83,17],[87,31,83,29],[88,6,84,4],[88,12,84,10,"AsyncStorage"],[88,24,84,22],[88,25,84,22,"default"],[88,32,84,22],[88,33,84,23,"removeItem"],[88,43,84,33],[88,44,84,34],[88,56,84,46],[88,57,84,47],[89,6,85,4],[89,12,85,10,"AsyncStorage"],[89,24,85,22],[89,25,85,22,"default"],[89,32,85,22],[89,33,85,23,"removeItem"],[89,43,85,33],[89,44,85,34],[89,50,85,40],[89,51,85,41],[90,6,86,4,"setToken"],[90,14,86,12],[90,15,86,13],[90,19,86,17],[90,20,86,18],[91,6,87,4,"setUser"],[91,13,87,11],[91,14,87,12],[91,18,87,16],[91,19,87,17],[92,4,88,2],[92,5,88,3],[93,4,90,2],[93,10,90,8,"refreshUser"],[93,21,90,19],[93,24,90,22],[93,30,90,22,"refreshUser"],[93,31,90,22],[93,36,90,34],[94,6,91,4],[94,10,91,8],[95,8,92,6],[95,14,92,12,"response"],[95,22,92,20],[95,25,92,23],[95,31,92,29,"authAPI"],[95,40,92,36],[95,41,92,36,"authAPI"],[95,48,92,36],[95,49,92,37,"getMe"],[95,54,92,42],[95,55,92,43],[95,56,92,44],[96,8,93,6],[96,14,93,12,"userData"],[96,22,93,20],[96,25,93,23,"response"],[96,33,93,31],[96,34,93,32,"data"],[96,38,93,36],[97,8,94,6],[97,14,94,12,"AsyncStorage"],[97,26,94,24],[97,27,94,24,"default"],[97,34,94,24],[97,35,94,25,"setItem"],[97,42,94,32],[97,43,94,33],[97,49,94,39],[97,51,94,41,"JSON"],[97,55,94,45],[97,56,94,46,"stringify"],[97,65,94,55],[97,66,94,56,"userData"],[97,74,94,64],[97,75,94,65],[97,76,94,66],[98,8,95,6,"setUser"],[98,15,95,13],[98,16,95,14,"userData"],[98,24,95,22],[98,25,95,23],[99,6,96,4],[99,7,96,5],[99,8,96,6],[99,15,96,13,"error"],[99,20,96,18],[99,22,96,20],[100,8,97,6,"console"],[100,15,97,13],[100,16,97,14,"error"],[100,21,97,19],[100,22,97,20],[100,46,97,44],[100,48,97,46,"error"],[100,53,97,51],[100,54,97,52],[101,6,98,4],[102,4,99,2],[102,5,99,3],[103,4,101,2],[103,24,102,4],[103,28,102,4,"_reactJsxDevRuntime"],[103,47,102,4],[103,48,102,4,"jsxDEV"],[103,54,102,4],[103,56,102,5,"AuthContext"],[103,67,102,16],[103,68,102,17,"Provider"],[103,76,102,25],[104,6,102,26,"value"],[104,11,102,31],[104,13,102,33],[105,8,102,35,"user"],[105,12,102,39],[106,8,102,41,"token"],[106,13,102,46],[107,8,102,48,"loading"],[107,15,102,55],[108,8,102,57,"login"],[108,13,102,62],[109,8,102,64,"signup"],[109,14,102,70],[110,8,102,72,"logout"],[110,14,102,78],[111,8,102,80,"refreshUser"],[112,6,102,92],[112,7,102,94],[113,6,102,94,"children"],[113,14,102,94],[113,16,103,7,"children"],[114,4,103,15],[115,6,103,15,"fileName"],[115,14,103,15],[115,16,103,15,"_jsxFileName"],[115,28,103,15],[116,6,103,15,"lineNumber"],[116,16,103,15],[117,6,103,15,"columnNumber"],[117,18,103,15],[118,4,103,15],[118,11,104,26],[118,12,104,27],[119,2,106,0],[119,3,106,1],[120,2,108,7],[120,8,108,13,"useAuth"],[120,15,108,20],[120,18,108,23,"useAuth"],[120,19,108,23],[120,24,108,29],[121,4,109,2],[121,10,109,8,"context"],[121,17,109,15],[121,20,109,18],[121,24,109,18,"useContext"],[121,30,109,28],[121,31,109,28,"useContext"],[121,41,109,28],[121,43,109,29,"AuthContext"],[121,54,109,40],[121,55,109,41],[122,4,110,2],[122,8,110,6,"context"],[122,15,110,13],[122,20,110,18,"undefined"],[122,29,110,27],[122,31,110,29],[123,6,111,4],[123,12,111,10],[123,16,111,14,"Error"],[123,21,111,19],[123,22,111,20],[123,67,111,65],[123,68,111,66],[124,4,112,2],[125,4,113,2],[125,11,113,9,"context"],[125,18,113,16],[126,2,114,0],[126,3,114,1],[127,0,114,2],[127,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","signup","logout","refreshUser","useAuth"],"mappings":"AAA;qEC2B;YCK;GDE;yBEE;GFc;gBGE;GHa;iBIE;GJa;iBKE;GLK;sBME;GNS;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}