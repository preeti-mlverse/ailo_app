{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":39,"index":188}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await _utilsApi.authAPI.login({\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const signup = async data => {\n      try {\n        const response = await _utilsApi.authAPI.signup(data);\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Signup failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      try {\n        const response = await _utilsApi.authAPI.getMe();\n        const userData = response.data;\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setUser(userData);\n      } catch (error) {\n        console.error('Error refreshing user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        signup,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":136,"map":[[15,2,28,0,"Object"],[15,8,28,0],[15,9,28,0,"defineProperty"],[15,23,28,0],[15,24,28,0,"exports"],[15,31,28,0],[16,4,28,0,"enumerable"],[16,14,28,0],[17,4,28,0,"get"],[17,7,28,0],[17,18,28,0,"get"],[17,19,28,0],[18,6,28,0],[18,13,28,0,"AuthProvider"],[18,25,28,0],[19,4,28,0],[20,2,28,0],[21,2,108,0,"Object"],[21,8,108,0],[21,9,108,0,"defineProperty"],[21,23,108,0],[21,24,108,0,"exports"],[21,31,108,0],[22,4,108,0,"enumerable"],[22,14,108,0],[23,4,108,0,"get"],[23,7,108,0],[23,18,108,0,"get"],[23,19,108,0],[24,6,108,0],[24,13,108,0,"useAuth"],[24,20,108,0],[25,4,108,0],[26,2,108,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,3,0],[30,6,3,0,"_utilsApi"],[30,15,3,0],[30,18,3,0,"require"],[30,25,3,0],[30,26,3,0,"_dependencyMap"],[30,40,3,0],[31,2,3,39],[31,6,3,39,"_reactJsxDevRuntime"],[31,25,3,39],[31,28,3,39,"require"],[31,35,3,39],[31,36,3,39,"_dependencyMap"],[31,50,3,39],[32,2,26,0],[32,8,26,6,"AuthContext"],[32,19,26,17],[32,35,26,20],[32,39,26,20,"createContext"],[32,45,26,33],[32,46,26,33,"createContext"],[32,59,26,33],[32,61,26,63,"undefined"],[32,70,26,72],[32,71,26,73],[33,2,28,7],[33,8,28,13,"AuthProvider"],[33,20,28,66],[33,23,28,69,"AuthProvider"],[33,24,28,70],[34,4,28,72,"children"],[35,2,28,81],[35,3,28,82],[35,8,28,87],[36,4,28,87,"_s"],[36,6,28,87],[37,4,29,2],[37,10,29,8],[37,11,29,9,"user"],[37,15,29,13],[37,17,29,15,"setUser"],[37,24,29,22],[37,25,29,23],[37,28,29,26],[37,32,29,26,"useState"],[37,38,29,34],[37,39,29,34,"useState"],[37,47,29,34],[37,49,29,48],[37,53,29,52],[37,54,29,53],[38,4,30,2],[38,10,30,8],[38,11,30,9,"token"],[38,16,30,14],[38,18,30,16,"setToken"],[38,26,30,24],[38,27,30,25],[38,30,30,28],[38,34,30,28,"useState"],[38,40,30,36],[38,41,30,36,"useState"],[38,49,30,36],[38,51,30,52],[38,55,30,56],[38,56,30,57],[39,4,31,2],[39,10,31,8],[39,11,31,9,"loading"],[39,18,31,16],[39,20,31,18,"setLoading"],[39,30,31,28],[39,31,31,29],[39,34,31,32],[39,38,31,32,"useState"],[39,44,31,40],[39,45,31,40,"useState"],[39,53,31,40],[39,55,31,41],[39,59,31,45],[39,60,31,46],[40,4,33,2],[40,8,33,2,"useEffect"],[40,14,33,11],[40,15,33,11,"useEffect"],[40,24,33,11],[40,26,33,12],[40,32,33,18],[41,6,34,4,"loadStoredAuth"],[41,20,34,18],[41,21,34,19],[41,22,34,20],[42,4,35,2],[42,5,35,3],[42,7,35,5],[42,9,35,7],[42,10,35,8],[43,4,37,2],[43,10,37,8,"loadStoredAuth"],[43,24,37,22],[43,27,37,25],[43,33,37,25,"loadStoredAuth"],[43,34,37,25],[43,39,37,37],[44,6,38,4],[44,10,38,8],[45,8,39,6],[45,14,39,12,"storedToken"],[45,25,39,23],[45,28,39,26],[45,34,39,32,"AsyncStorage"],[45,46,39,44],[45,47,39,44,"default"],[45,54,39,44],[45,55,39,45,"getItem"],[45,62,39,52],[45,63,39,53],[45,75,39,65],[45,76,39,66],[46,8,40,6],[46,14,40,12,"storedUser"],[46,24,40,22],[46,27,40,25],[46,33,40,31,"AsyncStorage"],[46,45,40,43],[46,46,40,43,"default"],[46,53,40,43],[46,54,40,44,"getItem"],[46,61,40,51],[46,62,40,52],[46,68,40,58],[46,69,40,59],[47,8,42,6],[47,12,42,10,"storedToken"],[47,23,42,21],[47,27,42,25,"storedUser"],[47,37,42,35],[47,39,42,37],[48,10,43,8,"setToken"],[48,18,43,16],[48,19,43,17,"storedToken"],[48,30,43,28],[48,31,43,29],[49,10,44,8,"setUser"],[49,17,44,15],[49,18,44,16,"JSON"],[49,22,44,20],[49,23,44,21,"parse"],[49,28,44,26],[49,29,44,27,"storedUser"],[49,39,44,37],[49,40,44,38],[49,41,44,39],[50,8,45,6],[51,6,46,4],[51,7,46,5],[51,8,46,6],[51,15,46,13,"error"],[51,20,46,18],[51,22,46,20],[52,8,47,6,"console"],[52,15,47,13],[52,16,47,14,"error"],[52,21,47,19],[52,22,47,20],[52,43,47,41],[52,45,47,43,"error"],[52,50,47,48],[52,51,47,49],[53,6,48,4],[53,7,48,5],[53,16,48,14],[54,8,49,6,"setLoading"],[54,18,49,16],[54,19,49,17],[54,24,49,22],[54,25,49,23],[55,6,50,4],[56,4,51,2],[56,5,51,3],[57,4,53,2],[57,10,53,8,"login"],[57,15,53,13],[57,18,53,16],[57,24,53,16,"login"],[57,25,53,23,"email"],[57,30,53,36],[57,32,53,38,"password"],[57,40,53,54],[57,45,53,59],[58,6,54,4],[58,10,54,8],[59,8,55,6],[59,14,55,12,"response"],[59,22,55,20],[59,25,55,23],[59,31,55,29,"authAPI"],[59,40,55,36],[59,41,55,36,"authAPI"],[59,48,55,36],[59,49,55,37,"login"],[59,54,55,42],[59,55,55,43],[60,10,55,45,"email"],[60,15,55,50],[61,10,55,52,"password"],[62,8,55,61],[62,9,55,62],[62,10,55,63],[63,8,56,6],[63,14,56,12],[64,10,56,14,"access_token"],[64,22,56,26],[65,10,56,28,"user"],[65,14,56,32],[65,16,56,34,"userData"],[66,8,56,43],[66,9,56,44],[66,12,56,47,"response"],[66,20,56,55],[66,21,56,56,"data"],[66,25,56,60],[67,8,58,6],[67,14,58,12,"AsyncStorage"],[67,26,58,24],[67,27,58,24,"default"],[67,34,58,24],[67,35,58,25,"setItem"],[67,42,58,32],[67,43,58,33],[67,55,58,45],[67,57,58,47,"access_token"],[67,69,58,59],[67,70,58,60],[68,8,59,6],[68,14,59,12,"AsyncStorage"],[68,26,59,24],[68,27,59,24,"default"],[68,34,59,24],[68,35,59,25,"setItem"],[68,42,59,32],[68,43,59,33],[68,49,59,39],[68,51,59,41,"JSON"],[68,55,59,45],[68,56,59,46,"stringify"],[68,65,59,55],[68,66,59,56,"userData"],[68,74,59,64],[68,75,59,65],[68,76,59,66],[69,8,61,6,"setToken"],[69,16,61,14],[69,17,61,15,"access_token"],[69,29,61,27],[69,30,61,28],[70,8,62,6,"setUser"],[70,15,62,13],[70,16,62,14,"userData"],[70,24,62,22],[70,25,62,23],[71,6,63,4],[71,7,63,5],[71,8,63,6],[71,15,63,13,"error"],[71,20,63,23],[71,22,63,25],[72,8,64,6],[72,14,64,12],[72,18,64,16,"Error"],[72,23,64,21],[72,24,64,22,"error"],[72,29,64,27],[72,30,64,28,"response"],[72,38,64,36],[72,40,64,38,"data"],[72,44,64,42],[72,46,64,44,"detail"],[72,52,64,50],[72,56,64,54],[72,70,64,68],[72,71,64,69],[73,6,65,4],[74,4,66,2],[74,5,66,3],[75,4,68,2],[75,10,68,8,"signup"],[75,16,68,14],[75,19,68,17],[75,25,68,24,"data"],[75,29,68,33],[75,33,68,38],[76,6,69,4],[76,10,69,8],[77,8,70,6],[77,14,70,12,"response"],[77,22,70,20],[77,25,70,23],[77,31,70,29,"authAPI"],[77,40,70,36],[77,41,70,36,"authAPI"],[77,48,70,36],[77,49,70,37,"signup"],[77,55,70,43],[77,56,70,44,"data"],[77,60,70,48],[77,61,70,49],[78,8,71,6],[78,14,71,12],[79,10,71,14,"access_token"],[79,22,71,26],[80,10,71,28,"user"],[80,14,71,32],[80,16,71,34,"userData"],[81,8,71,43],[81,9,71,44],[81,12,71,47,"response"],[81,20,71,55],[81,21,71,56,"data"],[81,25,71,60],[82,8,73,6],[82,14,73,12,"AsyncStorage"],[82,26,73,24],[82,27,73,24,"default"],[82,34,73,24],[82,35,73,25,"setItem"],[82,42,73,32],[82,43,73,33],[82,55,73,45],[82,57,73,47,"access_token"],[82,69,73,59],[82,70,73,60],[83,8,74,6],[83,14,74,12,"AsyncStorage"],[83,26,74,24],[83,27,74,24,"default"],[83,34,74,24],[83,35,74,25,"setItem"],[83,42,74,32],[83,43,74,33],[83,49,74,39],[83,51,74,41,"JSON"],[83,55,74,45],[83,56,74,46,"stringify"],[83,65,74,55],[83,66,74,56,"userData"],[83,74,74,64],[83,75,74,65],[83,76,74,66],[84,8,76,6,"setToken"],[84,16,76,14],[84,17,76,15,"access_token"],[84,29,76,27],[84,30,76,28],[85,8,77,6,"setUser"],[85,15,77,13],[85,16,77,14,"userData"],[85,24,77,22],[85,25,77,23],[86,6,78,4],[86,7,78,5],[86,8,78,6],[86,15,78,13,"error"],[86,20,78,23],[86,22,78,25],[87,8,79,6],[87,14,79,12],[87,18,79,16,"Error"],[87,23,79,21],[87,24,79,22,"error"],[87,29,79,27],[87,30,79,28,"response"],[87,38,79,36],[87,40,79,38,"data"],[87,44,79,42],[87,46,79,44,"detail"],[87,52,79,50],[87,56,79,54],[87,71,79,69],[87,72,79,70],[88,6,80,4],[89,4,81,2],[89,5,81,3],[90,4,83,2],[90,10,83,8,"logout"],[90,16,83,14],[90,19,83,17],[90,25,83,17,"logout"],[90,26,83,17],[90,31,83,29],[91,6,84,4],[91,12,84,10,"AsyncStorage"],[91,24,84,22],[91,25,84,22,"default"],[91,32,84,22],[91,33,84,23,"removeItem"],[91,43,84,33],[91,44,84,34],[91,56,84,46],[91,57,84,47],[92,6,85,4],[92,12,85,10,"AsyncStorage"],[92,24,85,22],[92,25,85,22,"default"],[92,32,85,22],[92,33,85,23,"removeItem"],[92,43,85,33],[92,44,85,34],[92,50,85,40],[92,51,85,41],[93,6,86,4,"setToken"],[93,14,86,12],[93,15,86,13],[93,19,86,17],[93,20,86,18],[94,6,87,4,"setUser"],[94,13,87,11],[94,14,87,12],[94,18,87,16],[94,19,87,17],[95,4,88,2],[95,5,88,3],[96,4,90,2],[96,10,90,8,"refreshUser"],[96,21,90,19],[96,24,90,22],[96,30,90,22,"refreshUser"],[96,31,90,22],[96,36,90,34],[97,6,91,4],[97,10,91,8],[98,8,92,6],[98,14,92,12,"response"],[98,22,92,20],[98,25,92,23],[98,31,92,29,"authAPI"],[98,40,92,36],[98,41,92,36,"authAPI"],[98,48,92,36],[98,49,92,37,"getMe"],[98,54,92,42],[98,55,92,43],[98,56,92,44],[99,8,93,6],[99,14,93,12,"userData"],[99,22,93,20],[99,25,93,23,"response"],[99,33,93,31],[99,34,93,32,"data"],[99,38,93,36],[100,8,94,6],[100,14,94,12,"AsyncStorage"],[100,26,94,24],[100,27,94,24,"default"],[100,34,94,24],[100,35,94,25,"setItem"],[100,42,94,32],[100,43,94,33],[100,49,94,39],[100,51,94,41,"JSON"],[100,55,94,45],[100,56,94,46,"stringify"],[100,65,94,55],[100,66,94,56,"userData"],[100,74,94,64],[100,75,94,65],[100,76,94,66],[101,8,95,6,"setUser"],[101,15,95,13],[101,16,95,14,"userData"],[101,24,95,22],[101,25,95,23],[102,6,96,4],[102,7,96,5],[102,8,96,6],[102,15,96,13,"error"],[102,20,96,18],[102,22,96,20],[103,8,97,6,"console"],[103,15,97,13],[103,16,97,14,"error"],[103,21,97,19],[103,22,97,20],[103,46,97,44],[103,48,97,46,"error"],[103,53,97,51],[103,54,97,52],[104,6,98,4],[105,4,99,2],[105,5,99,3],[106,4,101,2],[106,24,102,4],[106,28,102,4,"_reactJsxDevRuntime"],[106,47,102,4],[106,48,102,4,"jsxDEV"],[106,54,102,4],[106,56,102,5,"AuthContext"],[106,67,102,16],[106,68,102,17,"Provider"],[106,76,102,25],[107,6,102,26,"value"],[107,11,102,31],[107,13,102,33],[108,8,102,35,"user"],[108,12,102,39],[109,8,102,41,"token"],[109,13,102,46],[110,8,102,48,"loading"],[110,15,102,55],[111,8,102,57,"login"],[111,13,102,62],[112,8,102,64,"signup"],[112,14,102,70],[113,8,102,72,"logout"],[113,14,102,78],[114,8,102,80,"refreshUser"],[115,6,102,92],[115,7,102,94],[116,6,102,94,"children"],[116,14,102,94],[116,16,103,7,"children"],[117,4,103,15],[118,6,103,15,"fileName"],[118,14,103,15],[118,16,103,15,"_jsxFileName"],[118,28,103,15],[119,6,103,15,"lineNumber"],[119,16,103,15],[120,6,103,15,"columnNumber"],[120,18,103,15],[121,4,103,15],[121,11,104,26],[121,12,104,27],[122,2,106,0],[122,3,106,1],[123,2,106,2,"_s"],[123,4,106,2],[123,5,28,13,"AuthProvider"],[123,17,28,66],[124,2,28,66,"_c"],[124,4,28,66],[124,7,28,13,"AuthProvider"],[124,19,28,66],[125,2,108,7],[125,8,108,13,"useAuth"],[125,15,108,20],[125,18,108,23,"useAuth"],[125,19,108,23],[125,24,108,29],[126,4,108,29,"_s2"],[126,7,108,29],[127,4,109,2],[127,10,109,8,"context"],[127,17,109,15],[127,20,109,18],[127,24,109,18,"useContext"],[127,30,109,28],[127,31,109,28,"useContext"],[127,41,109,28],[127,43,109,29,"AuthContext"],[127,54,109,40],[127,55,109,41],[128,4,110,2],[128,8,110,6,"context"],[128,15,110,13],[128,20,110,18,"undefined"],[128,29,110,27],[128,31,110,29],[129,6,111,4],[129,12,111,10],[129,16,111,14,"Error"],[129,21,111,19],[129,22,111,20],[129,67,111,65],[129,68,111,66],[130,4,112,2],[131,4,113,2],[131,11,113,9,"context"],[131,18,113,16],[132,2,114,0],[132,3,114,1],[133,2,114,2,"_s2"],[133,5,114,2],[133,6,108,13,"useAuth"],[133,13,108,20],[134,2,108,20],[134,6,108,20,"_c"],[134,8,108,20],[135,2,108,20,"$RefreshReg$"],[135,14,108,20],[135,15,108,20,"_c"],[135,17,108,20],[136,0,108,20],[136,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","signup","logout","refreshUser","useAuth"],"mappings":"AAA;qEC2B;YCK;GDE;yBEE;GFc;gBGE;GHa;iBIE;GJa;iBKE;GLK;sBME;GNS;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}